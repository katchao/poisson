{% extends "base.html" %}

{% block head %}
	{{ super() }}
{% endblock %}

{% block content %}
	<h1>Index</h1>

<!--
	<form method="post" action="{{ url_for('submit') }}">

		<label for="name">Source file:</label>
			<input type="text" name="source" value="niccage.png" /><br />
		<label for="email">Target file:</label>
			<input type="text" name="target" value="apple.png" /><br />

		<label for="email">Mask file:</label>
			<input type="text" name="mask" value="niccage-mask2.png" /><br />
		<input type="submit" />

	</form>
-->
	<p>Upload a file or choose from an external URL.</p>

    <form id="uploadform" enctype="multipart/form-data" action="{{ url_for('submit') }}" method="post">

    	<label for="name">Source file:</label>
			<input type="file" id="source" name="source" />

		<label for="email">Target file:</label>
			<input type="text" name="target" value="apple.png" /><br />

		<label for="email">Mask file:</label>
			<input type="text" name="mask" value="niccage-mask2.png" /><br />

	
		<p><img id="uploadedimg" src="#" alt="your image" /></p>
		
		<input type="submit" id="submit" value="Submit" disabled>
	</form>



	<script>
		$(function() {
			function readURL(input) {

				if (input.files && input.files[0]) {
					var reader = new FileReader();

					reader.onload = function (e) {
						$('#uploadedimg').attr('src', e.target.result);
					}

					reader.readAsDataURL(input.files[0]);
				}
			}

			$("#source").change(function(){
				readURL(this);
				$("#submit").attr("disabled", false);
			});
		});
	</script>
	
{% endblock %}