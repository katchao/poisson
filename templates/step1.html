{% extends "base.html" %}

{% block head %}
	{{ super() }}
{% endblock %}

{% block content %}
	<h1>Poisson Composite Image Creator</h1>

	<p><strong>Step 1:</strong> Upload your source file.</p>

    <form id="uploadform" enctype="multipart/form-data" action="{{ url_for('submit_source') }}" method="post">

    	<label for="name">Source file:</label>
			<input type="file" id="source" name="source" />

		<div id="sourcepreview"></div>

		<br />

		<input type="submit" id="submit" value="Submit" disabled>
	</form>



	<script>
		$(function() {
			function readURL(input) {
				if (input.files && input.files[0]) {
					var reader = new FileReader();

					reader.onload = function (e) {
						$("#sourcepreview").html("<img src=" + e.target.result + " />");
					}

					reader.readAsDataURL(input.files[0]);
				}
			}

			$("#source").change(function(){
				readURL(this);
				$("#submit").attr("disabled", false);
			});
		});
	</script>
	
{% endblock %}