{% extends "base.html" %}

{% block head %}
	{{ super() }}
{% endblock %}

{% block content %}
	<h1>Poisson Composite Image Creator</h1>

	<p><strong>Step 3:</strong> Upload your target image.</p>

	<form id="uploadform" enctype="multipart/form-data" action="{{ url_for('submit_target') }}" method="post">

    	<label for="name">Target file:</label>
			<input type="file" id="target" name="target" />

		<div id="targetpreview"></div>

		<br />

		<input type="submit" id="submit" value="Submit" disabled>
	</form>



	<script>
		$(function() {
			function readURL(input) {
				if (input.files && input.files[0]) {
					var reader = new FileReader();

					reader.onload = function (e) {
						$("#targetpreview").html("<img src=" + e.target.result + " />");
					}

					reader.readAsDataURL(input.files[0]);
				}
			}

			$("#target").change(function(){
				readURL(this);
				$("#submit").attr("disabled", false);
			});
		});
	</script>
	
{% endblock %}